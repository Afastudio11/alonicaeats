
# Use the correct script name, examples:
npm run db:push
# OR if different: npm run migrate
# OR if different: npm run drizzle:push

# Verify tables created
psql -h localhost -U alonica_user -d alonica_production -c "\dt"
# Harus terlihat tables: users, menu_items, orders, dll.
-bash: !@localhost: event not found

> rest-express@1.0.0 db:push
> drizzle-kit push

sh: 1: drizzle-kit: not found
Password for user alonica_user: 
                   List of relations
 Schema |         Name          | Type  |    Owner     
--------+-----------------------+-------+--------------
 public | audit_logs            | table | alonica_user
 public | cash_movements        | table | alonica_user
 public | categories            | table | alonica_user
 public | daily_reports         | table | alonica_user
 public | discounts             | table | alonica_user
 public | expenses              | table | alonica_user
 public | inventory_items       | table | alonica_user
 public | menu_item_ingredients | table | alonica_user
 public | menu_items            | table | alonica_user
 public | orders                | table | alonica_user
 public | print_settings        | table | alonica_user
 public | refunds               | table | alonica_user
 public | reservations          | table | alonica_user
 public | shifts                | table | alonica_user
 public | store_profile         | table | alonica_user
 public | users                 | table | alonica_user
(16 rows)

alonica@srv1028335:/opt/alonica$ # Method 1: Menggunakan seed script (RECOMMENDED)
# Run the seed script directly
npx tsx scripts/seed-users.ts

# Verify users created
psql -h localhost -U alonica_user -d alonica_production -c "SELECT username, role FROM users;"

# Method 2: Menggunakan API endpoint (ALTERNATIVE)
# Start aplikasi temporary
NODE_ENV=production node dist/index.js &
APP_PID=$!
sleep 5

# Initialize default users
curl -X POST http://localhost:3000/api/auth/init-default-users

# Verify response (harus berisi "created":{"admin":1,"kasir":4})
# Stop temporary server safely
kill $APP_PID
Need to install the following packages:
tsx@4.20.6
Ok to proceed? (y) GY

npm error canceled
npm error A complete log of this run can be found in: /home/alonica/.npm/_logs/2025-09-28T08_13_05_346Z-debug-0.log
Password for user alonica_user: 
 username | role 
----------+------
(0 rows)

[3] 41177
node:internal/modules/esm/resolve:873
  throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base), null);
        ^

Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'vite' imported from /opt/alonica/dist/index.js
    at packageResolve (node:internal/modules/esm/resolve:873:9)
    at moduleResolve (node:internal/modules/esm/resolve:946:18)
    at defaultResolve (node:internal/modules/esm/resolve:1188:11)
    at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:708:12)
    at #cachedDefaultResolve (node:internal/modules/esm/loader:657:25)
    at ModuleLoader.resolve (node:internal/modules/esm/loader:640:38)
    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:264:38)
    at ModuleJob._link (node:internal/modules/esm/module_job:168:49) {
  code: 'ERR_MODULE_NOT_FOUND'
}

Node.js v20.19.5
[3]+  Exit 1                  NODE_ENV=production node dist/index.js
curl: (7) Failed to connect to localhost port 3000 after 0 ms: Connection refused
-bash: kill: (41177) - No such process
alonica@srv1028335:/opt/alonica$ # Check users berhasil dibuat
psql -h localhost -U alonica_user -d alonica_production -c "SELECT username, role FROM users;"

# Expected output:
#  username | role  
# ----------+-------
#  admin    | admin
#  kasir1   | kasir
#  kasir2   | kasir
#  kasir3   | kasir
#  kasir4   | kasir
Password for user alonica_user: 
 username | role 
----------+------
(0 rows)

alonica@srv1028335:/opt/alonica$ # Install PM2 process manager
sudo npm install -g pm2

# Verify installation
pm2 --version

changed 133 packages in 8s

13 packages are looking for funding
  run `npm fund` for details
6.0.13
alonica@srv1028335:/opt/alonica$ # Create PM2 config
cat > ecosystem.config.js << 'EOF'
module.exports = {
  apps: [{
    name: 'alonica-production',
    script: 'dist/index.js',
    instances: 'max',
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production',
      PORT: 3000
    },
    env_file: '.env.production',
    error_file: 'logs/err.log',
    out_file: 'logs/out.log',
    log_file: 'logs/combined.log',
    time: true,
    autorestart: true,
    watch: false,
    max_memory_restart: '1G',
    min_uptime: '10s',
    max_restarts: 10
  }]
};
EOF
alonica@srv1028335:/opt/alonica$ # Create logs directory
mkdir -p logs

# Start aplikasi dengan PM2
pm2 start ecosystem.config.js

# Verify aplikasi running
pm2 status
pm2 logs alonica-production --lines 20

# Test aplikasi
curl http://localhost:3000/api/health
# Expected: {"status":"healthy","timestamp":"..."}

# Setup PM2 auto-start on boot
pm2 startup
pm2 save
[PM2][ERROR] File ecosystem.config.js malformated
ReferenceError: module is not defined in ES module scope
This file is being treated as an ES module because it has a '.js' file extension and '/opt/alonica/package.json' contains "type": "module". To treat it as a CommonJS script, rename it to use the '.cjs' file extension.
    at file:///opt/alonica/ecosystem.config.js:1:1
    at ModuleJobSync.runSync (node:internal/modules/esm/module_job:437:37)
    at ModuleLoader.importSyncForRequire (node:internal/modules/esm/loader:389:47)
    at loadESMFromCJS (node:internal/modules/cjs/loader:1363:24)
    at Module._compile (node:internal/modules/cjs/loader:1503:5)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Module.require (node:internal/modules/cjs/loader:1289:19)
    at require (node:internal/modules/helpers:182:18)
┌────┬───────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name      │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
└────┴───────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
[TAILING] Tailing last 20 lines for [alonica-production] process (change the value with --lines option)
# Create nginx site config
sudo nano /etc/nginx/sites-available/alonica^C
curl: (7) Failed to connect to localhost port 3000 after 0 ms: Connection refused
[PM2] Init System found: systemd
[PM2] To setup the Startup Script, copy/paste the following command:
sudo env PATH=$PATH:/usr/bin /usr/lib/node_modules/pm2/bin/pm2 startup systemd -u alonica --hp /home/alonica
[PM2] Saving current process list...
[PM2][WARN] PM2 is not managing any process, skipping save...
[PM2][WARN] To force saving use: pm2 save --force
alonica@srv1028335:/opt/alonica$ # Create nginx site config
sudo nano /etc/nginx/sites-available/alonica
alonica@srv1028335:/opt/alonica$ # Enable site
sudo ln -s /etc/nginx/sites-available/alonica /etc/nginx/sites-enabled/

# Remove default site
sudo rm -f /etc/nginx/sites-enabled/default

# Test nginx configuration
sudo nginx -t

# Reload nginx jika test berhasil
sudo systemctl reload nginx

# Check nginx status
sudo systemctl status nginx
nginx: [emerg] "server" directive is not allowed here in /etc/nginx/sites-enabled/alonica:5
nginx: configuration file /etc/nginx/nginx.conf test failed
Job for nginx.service failed.
See "systemctl status nginx.service" and "journalctl -xeu nginx.service" for details.
● nginx.service - A high performance web server and a reverse proxy server
     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
     Active: active (running) since Sun 2025-09-28 08:03:21 UTC; 13min ago
       Docs: man:nginx(8)
    Process: 40790 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
    Process: 40791 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
    Process: 41284 ExecReload=/usr/sbin/nginx -g daemon on; master_process on; -s reload (code=exited, status=1/FAILURE)
   Main PID: 40793 (nginx)
      Tasks: 2 (limit: 4646)
     Memory: 2.7M
        CPU: 39ms
     CGroup: /system.slice/nginx.service
             ├─40793 "nginx: master process /usr/sbin/nginx -g daemon on; master_process on;"
             └─40795 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""

Sep 28 08:03:21 srv1028335 systemd[1]: nginx.service: Deactivated successfully.
Sep 28 08:03:21 srv1028335 systemd[1]: Stopped A high performance web server and a reverse proxy server.
Sep 28 08:03:21 srv1028335 systemd[1]: Starting A high performance web server and a reverse proxy server...
Sep 28 08:03:21 srv1028335 systemd[1]: Started A high performance web server and a reverse proxy server.
Sep 28 08:16:30 srv1028335 systemd[1]: Reloading A high performance web server and a reverse proxy server...
Sep 28 08:16:30 srv1028335 nginx[41284]: nginx: [emerg] "server" directive is not allowed here in /etc/nginx/sites-enabled/alonica:5
Sep 28 08:16:30 srv1028335 systemd[1]: nginx.service: Control process exited, code=exited, status=1/FAILURE
Sep 28 08:16:30 srv1028335 systemd[1]: Reload failed for A high performance web server and a reverse proxy server.
alonica@srv1028335:/opt/alonica$ # Test dari server (internal)
curl http://localhost/api/health

# Test dari domain (jika DNS sudah pointing)
curl http://your-domain.com/api/health

# 🔒 SECURITY: Close direct app port after Nginx is working
sudo ufw delete allow 3000/tcp
sudo ufw reload
2025/09/28 08:16:40 [error] 40795#40795: *29 connect() failed (111: Unknown error) while connecting to upstream, client: 127.0.0.1, server: kasirpos.space, request: "GET /api/health HTTP/1.1", upstream: "http://127.0.0.1:3000/api/health", host: "localhost"127.0.0.1 - - [28/Sep/2025:08:16:40 +0000] "GET /api/health HTTP/1.1" 502 166 "-" "curl/7.81.0"

<html>
<head><title>502 Bad Gateway</title></head>
<body>
<center><h1>502 Bad Gateway</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>


Could not delete non-existent rule
Could not delete non-existent rule (v6)
Firewall reloaded
alonica@srv1028335:/opt/alonica$ # Install SSL certificate
sudo certbot --nginx -d your-domain.com -d www.your-domain.com

# Follow prompts:
# 1. Enter email address
# 2. Agree to terms
# 3. Choose redirect (Option 2)
Saving debug log to /var/log/letsencrypt/letsencrypt.log
Error while running nginx -c /etc/nginx/nginx.conf -t.

nginx: [emerg] "server" directive is not allowed here in /etc/nginx/sites-enabled/alonica:5
nginx: configuration file /etc/nginx/nginx.conf test failed

The nginx plugin is not working; there may be problems with your existing configuration.
The error was: MisconfigurationError('Error while running nginx -c /etc/nginx/nginx.conf -t.\n\nnginx: [emerg] "server" directive is not allowed here in /etc/nginx/sites-enabled/alonica:5\nnginx: configuration file /etc/nginx/nginx.conf test failed\n')
alonica@srv1028335:/opt/alonica$ # Check all services running
sudo systemctl status nginx
sudo systemctl status postgresql
pm2 status

# Check ports
sudo netstat -tlnp | grep -E ':(80|443|3000|5432)'

# Test database connection
psql -h localhost -U alonica_user -d alonica_production -c "SELECT COUNT(*) FROM users;"
# Should return 5 (1 admin + 4 kasir)
● nginx.service - A high performance web server and a reverse proxy server
     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
     Active: active (running) since Sun 2025-09-28 08:03:21 UTC; 15min ago
       Docs: man:nginx(8)
    Process: 40790 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
    Process: 40791 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
    Process: 41284 ExecReload=/usr/sbin/nginx -g daemon on; master_process on; -s reload (code=exited, status=1/FAILURE)
   Main PID: 40793 (nginx)
      Tasks: 2 (limit: 4646)
     Memory: 2.7M
        CPU: 40ms
     CGroup: /system.slice/nginx.service
             ├─40793 "nginx: master process /usr/sbin/nginx -g daemon on; master_process on;"
             └─40795 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""

Sep 28 08:03:21 srv1028335 systemd[1]: nginx.service: Deactivated successfully.
Sep 28 08:03:21 srv1028335 systemd[1]: Stopped A high performance web server and a reverse proxy server.
Sep 28 08:03:21 srv1028335 systemd[1]: Starting A high performance web server and a reverse proxy server...
Sep 28 08:03:21 srv1028335 systemd[1]: Started A high performance web server and a reverse proxy server.
Sep 28 08:16:30 srv1028335 systemd[1]: Reloading A high performance web server and a reverse proxy server...
Sep 28 08:16:30 srv1028335 nginx[41284]: nginx: [emerg] "server" directive is not allowed here in /etc/nginx/sites-enabled/alonica:5
Sep 28 08:16:30 srv1028335 systemd[1]: nginx.service: Control process exited, code=exited, status=1/FAILURE
Sep 28 08:16:30 srv1028335 systemd[1]: Reload failed for A high performance web server and a reverse proxy server.
● postgresql.service - PostgreSQL RDBMS
     Loaded: loaded (/lib/systemd/system/postgresql.service; enabled; vendor preset: enabled)
     Active: active (exited) since Sun 2025-09-28 08:10:18 UTC; 8min ago
    Process: 41026 ExecStart=/bin/true (code=exited, status=0/SUCCESS)
   Main PID: 41026 (code=exited, status=0/SUCCESS)
        CPU: 1ms

Sep 28 08:10:18 srv1028335 systemd[1]: Starting PostgreSQL RDBMS...
Sep 28 08:10:18 srv1028335 systemd[1]: Finished PostgreSQL RDBMS.
┌────┬───────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name      │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
└────┴───────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      40793/nginx: master 
tcp        0      0 127.0.0.1:5432          0.0.0.0:*               LISTEN      41008/postgres      
tcp6       0      0 ::1:5432                :::*                    LISTEN      41008/postgres      
Password for user alonica_user: 
psql: error: connection to server at "localhost" (::1), port 5432 failed: FATAL:  password authentication failed for user "alonica_user"
connection to server at "localhost" (::1), port 5432 failed: FATAL:  password authentication failed for user "alonica_user"
alonica@srv1028335:/opt/alonica$ 
alonica@srv1028335:/opt/alonica$ # Test admin login
curl -X POST https://your-domain.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'

# Expected response:
# {"user":{"id":"...","username":"admin","role":"admin"},"token":"..."}

# Test kasir login
curl -X POST https://your-domain.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"kasir1","password":"kasir123"}'

# Expected response:
# {"user":{"id":"...","username":"kasir1","role":"kasir"},"token":"..."}




alonica@srv1028335:/opt/alonica$ # Check all services running
sudo systemctl status nginx
sudo systemctl status postgresql
pm2 status

# Check ports
sudo netstat -tlnp | grep -E ':(80|443|3000|5432)'

# Test database connection
psql -h localhost -U alonica_user -d alonica_production -c "SELECT COUNT(*) FROM users;"
# Should return 5 (1 admin + 4 kasir)
● nginx.service - A high performance web server and a reverse proxy server
     Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
     Active: active (running) since Sun 2025-09-28 08:03:21 UTC; 15min ago
       Docs: man:nginx(8)
    Process: 40790 ExecStartPre=/usr/sbin/nginx -t -q -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
    Process: 40791 ExecStart=/usr/sbin/nginx -g daemon on; master_process on; (code=exited, status=0/SUCCESS)
    Process: 41284 ExecReload=/usr/sbin/nginx -g daemon on; master_process on; -s reload (code=exited, status=1/FAILURE)
   Main PID: 40793 (nginx)
      Tasks: 2 (limit: 4646)
     Memory: 2.7M
        CPU: 40ms
     CGroup: /system.slice/nginx.service
             ├─40793 "nginx: master process /usr/sbin/nginx -g daemon on; master_process on;"
             └─40795 "nginx: worker process" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""

Sep 28 08:03:21 srv1028335 systemd[1]: nginx.service: Deactivated successfully.
Sep 28 08:03:21 srv1028335 systemd[1]: Stopped A high performance web server and a reverse proxy server.
Sep 28 08:03:21 srv1028335 systemd[1]: Starting A high performance web server and a reverse proxy server...
Sep 28 08:03:21 srv1028335 systemd[1]: Started A high performance web server and a reverse proxy server.
Sep 28 08:16:30 srv1028335 systemd[1]: Reloading A high performance web server and a reverse proxy server...
Sep 28 08:16:30 srv1028335 nginx[41284]: nginx: [emerg] "server" directive is not allowed here in /etc/nginx/sites-enabled/alonica:5
Sep 28 08:16:30 srv1028335 systemd[1]: nginx.service: Control process exited, code=exited, status=1/FAILURE
Sep 28 08:16:30 srv1028335 systemd[1]: Reload failed for A high performance web server and a reverse proxy server.
● postgresql.service - PostgreSQL RDBMS
     Loaded: loaded (/lib/systemd/system/postgresql.service; enabled; vendor preset: enabled)
     Active: active (exited) since Sun 2025-09-28 08:10:18 UTC; 8min ago
    Process: 41026 ExecStart=/bin/true (code=exited, status=0/SUCCESS)
   Main PID: 41026 (code=exited, status=0/SUCCESS)
        CPU: 1ms

Sep 28 08:10:18 srv1028335 systemd[1]: Starting PostgreSQL RDBMS...
Sep 28 08:10:18 srv1028335 systemd[1]: Finished PostgreSQL RDBMS.
┌────┬───────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name      │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
└────┴───────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      40793/nginx: master 
tcp        0      0 127.0.0.1:5432          0.0.0.0:*               LISTEN      41008/postgres      
tcp6       0      0 ::1:5432                :::*                    LISTEN      41008/postgres      
Password for user alonica_user: 
 count 
-------
     0
(1 row)

alonica@srv1028335:/opt/alonica$ # Test admin login
curl -X POST https://your-domain.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'

# Expected response:
# {"user":{"id":"...","username":"admin","role":"admin"},"token":"..."}

# Test kasir login
curl -X POST https://your-domain.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"kasir1","password":"kasir123"}'

# Expected response:
# {"user":{"id":"...","username":"kasir1","role":"kasir"},"token":"..."}




alonica@srv1028335:/opt/alonica$ # {"user":{"id":"...","username":"kasir1","role":"kasir"},"token":"..."}106.219.161.25 - - [28/Sep/2025:08:19:31 +0000] "GET / HTTP/1.1" 200 1951 "-" "-"
alonica@srv1028335:/opt/alonica$   {"user":{"id":"...","username":"kasir1","role":"kasir"},"token":"..."}^C
alonica@srv1028335:/opt/alonica$ # Test admin login
curl -X POST https://your-domain.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
alonica@srv1028335:/opt/alonica$ # Should return 5 (1 admin + 4 kasir)^C
alonica@srv1028335:/opt/alonica$ ^CTest admin login
curl -X POST https://your-domain.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'

# Expected response:
# {"user":{"id":"...","username":"admin","role":"admin"},"token":"..."}

# Test kasir login
curl -X POST https://your-domain.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"kasir1","password":"kasir123"}'

# Expected response:
# {"user":{"id":"...","username":"kasir1","role":"kasir"},"token":"..."}
alonica@srv1028335:/opt/alonica$ # Test admin login
curl -X POST https://your-domain.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'

# Expected response:
# {"user":{"id":"...","username":"admin","role":"admin"},"token":"..."}

# Test kasir login
curl -X POST https://kasirpos.space/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"kasir1","password":"kasir123"}'

# Expected response:
# {"user":{"id":"...","username":"kasir1","role":"kasir"},"token":"..."}^C
alonica@srv1028335:/opt/alonica$ # Test admin login
curl -X POST https://kasirpos.space/api/auth/login \ \
  -H "Content-Type: application/j# Test admin login
curl -X POST https://kasirpos.space/api/auth/login \ \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
# {"user":{"id":"...","username":"admin","role":"admin"},"token":"..."}
# Expected response:
# {"user":{"id":"...","username":"admin","role":"admin"},"token":"..."}
curl -X POST https://kasirpos.space/api/auth/login \
# Test kasir login: application/json" \
curl -X POST https://kasirpos.space/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"kasir1","password":"kasir123"}'
# {"user":{"id":"...","username":"kasir1","role":"kasir"},"token":"..."}104.23.221.57 - - [28/Sep/2025:08:21:16 +0000] "GET /wp-admin/setup-config.php HTTP/1.1" 200 827 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; # Expected response:.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
# {"user":{"id":"...","username":"kasir1","role":"kasir"},"token":"..."}
curl: (7) Failed to connect to kasirpos.space port 443 after 35 ms: Connection refused
curl: (3) URL using bad/illegal format or missing URL
curl: (7) Failed to connect to kasirpos.space port 443 after 0 ms: Connection refused
alonica@srv1028335:/opt/alonica$ # Test admin login
curl -X POST https://kasirpos.space/api/auth/login \ \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'

# Expected response:
# {"user":{"id":"...","username":"admin","role":"admin"},"token":"..."}

# Test kasir login
curl -X POST https://kasirpos.space/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"kasir1","password":"kasir123"}'

# Expected response:
# {"user":{"id":"...","username":"kasir1","role":"kasir"},"token":"..."}
curl: (7) Failed to connect to kasirpos.space port 443 after 0 ms: Connection refused
curl: (3) URL using bad/illegal format or missing URL
curl: (7) Failed to connect to kasirpos.space port 443 after 0 ms: Connection refused
alonica@srv1028335:/opt/alonica$ 