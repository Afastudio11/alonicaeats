# Alonica Production Environment Configuration
# Copy this file to .env.production and fill in your values

# ===========================================
# Application Configuration
# ===========================================
NODE_ENV=production
PORT=3000

# ===========================================
# Database Configuration
# ===========================================
# For containerized deployment (Docker Compose) - use postgres service name
DATABASE_URL=postgresql://alonica_user:YOUR_SECURE_PASSWORD@postgres:5432/alonica_production

# For external database deployment - use actual host IP/domain
# DATABASE_URL=postgresql://alonica_user:YOUR_SECURE_PASSWORD@localhost:5432/alonica_production

# Database passwords for Docker Compose
DB_PASSWORD=YOUR_SECURE_PASSWORD
POSTGRES_PASSWORD=YOUR_SECURE_PASSWORD

# ===========================================
# Security Configuration
# ===========================================
# Generate random strings for these (minimum 32 characters each)
SESSION_SECRET=your_very_long_random_session_secret_here_minimum_32_chars
JWT_SECRET=your_very_long_random_jwt_secret_here_minimum_32_chars

# ===========================================
# Domain Configuration
# ===========================================
# Your production domains (comma-separated)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
REPLIT_DOMAINS=

# ===========================================
# Payment Configuration (Midtrans)
# ===========================================
MIDTRANS_SERVER_KEY=your_midtrans_server_key
MIDTRANS_CLIENT_KEY=your_midtrans_client_key
MIDTRANS_IS_PRODUCTION=true
MIDTRANS_MERCHANT_ID=your_merchant_id

# ===========================================
# Object Storage Configuration (Optional)
# ===========================================
# Google Cloud Storage
GOOGLE_CLOUD_PROJECT_ID=your_project_id
GOOGLE_CLOUD_BUCKET=your_bucket_name
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# AWS S3 (Alternative)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_S3_BUCKET=your_s3_bucket_name

# ===========================================
# Email Configuration (Optional)
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
SMTP_FROM=noreply@yourdomain.com

# ===========================================
# Redis Configuration (Optional)
# ===========================================
# For containerized Redis - use redis service name with password
REDIS_URL=redis://:YOUR_REDIS_PASSWORD@redis:6379
# For external Redis - use actual host
# REDIS_URL=redis://:YOUR_REDIS_PASSWORD@localhost:6379
REDIS_PASSWORD=YOUR_REDIS_PASSWORD

# ===========================================
# Monitoring Configuration (Optional)
# ===========================================
# Grafana admin password
GRAFANA_PASSWORD=your_secure_grafana_password
GF_SECURITY_ADMIN_PASSWORD=your_secure_grafana_password

# Slack/Discord webhooks for notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your/webhook/url

# ===========================================
# SSL Configuration
# ===========================================
# Let's Encrypt email for SSL certificates
LETSENCRYPT_EMAIL=admin@yourdomain.com

# ===========================================
# Backup Configuration
# ===========================================
# S3 bucket for remote backups
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key

# ===========================================
# Feature Flags (Optional)
# ===========================================
ENABLE_ANALYTICS=true
ENABLE_NOTIFICATIONS=true
ENABLE_CACHE=true
ENABLE_RATE_LIMITING=true

# ===========================================
# Performance Configuration
# ===========================================
# Max file upload size (in bytes)
MAX_FILE_SIZE=10485760

# Session timeout (in milliseconds)
SESSION_TIMEOUT=3600000

# Rate limiting (requests per minute)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=60000

# ===========================================
# Logging Configuration
# ===========================================
LOG_LEVEL=info
LOG_FILE=/var/log/alonica/app.log

# ===========================================
# Development Tools (set to false in production)
# ===========================================
ENABLE_CORS=false
ENABLE_DEV_MIDDLEWARE=false
ENABLE_HOT_RELOAD=false